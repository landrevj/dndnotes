<% content_for :left_column do %>
    <div class="card page-main quest-main border-indigo">
      <div class="card-header">Quest
        <div class="card-actions">
          <%= link_to edit_campaign_path(@quest) do %>
            <i class="material-icons">edit</i>
          <% end %>
          <%= link_to new_link_path(origin_id: @quest.id, origin_type: 'Quest') do %>
            <i class="material-icons">insert_link</i>
          <% end %>
        </div>
      </div>
      <div class="card-body">
        <h3 class="card-title text-indigo"><%= @quest.name %></h3>
        <%= markdown @quest.description %>
      </div>
    </div>
    <% unless @campaigns.empty? %>
      <div class="card border-secondary">
        <div class="card-header">Related</div>
        <div class="card-body">
          <%= render 'campaigns/list', campaigns: @campaigns, id: @quest.id, type: 'Quest' %>
        </div>
      </div>
    <% end %>
<% end %>

<% content_for :center_column do %>
  <div class="card">
    <div class="card-header">Notes</div>
    <div class="card-body">
      <%= markdown @quest.content %>
      
      <% unless @notes.empty? %>
        <hr>
        <div class="notes-container">
          <%= render 'notes/list', notes: @notes, id: @quest.id, type: 'Quest' %>      
        </div>
      <% end %>
    </div>
  </div>
<% end %>

<% content_for :right_column do %>
  <% unless @locations.empty? %>
    <div class="card border-green">
      <div class="card-header">Locations</div>
      <div class="card-body">
        <%= render 'locations/list', locations: @locations, id: @quest.id, type: 'Quest' %>
      </div>
    </div>
  <% end %>
  <% unless @quests.empty? %>
    <div class="card border-indigo">
      <div class="card-header">Quests</div>
      <div class="card-body">
        <%= render 'quests/list', quests: @quests, id: @quest.id, type: 'Quest' %>    
      </div>
    </div>
  <% end %>
<% end %>
